"use strict";var Pagedata={id:null};Pagedata.model={url:"api/pagedata",defaults:function(){return{title:"",description:""}},saveConfig:function(){var a=[],e={};$q("#config .item").each(function(){var e=$q(this).find("input[type=hidden]");if(e.length){var t={id:e.val(),type:"js",prop:$q(this).find("textarea").attr("class"),value:$q(this).find("textarea").val()};a.push(t)}}),e.data=a,Pagedata.api.updateBasic(e)},validate:function(){return $q("form").isFormValid()},save:function(){var a=$q("form").aeroSerialize();Pagedata.model.validate()&&(Pagedata.id?Pagedata.api.update(a,Pagedata.id):Pagedata.api.create(a))}},Pagedata.api={get:function(a,e){var t={};e&&(t={id:e}),Aero.send(Pagedata.model.url,t,function(e){a&&a(e)},"GET")},getBasic:function(a){Aero.send(Pagedata.model.url+"/basic",{},function(e){a&&a(e)},"GET")},create:function(a){Aero.send(Pagedata.model.url,a,function(){Pagedata.view.table.ajax.reload(),$q("#form-wrapper").html("")},"POST")},update:function(a,e,t){a.id=e,Aero.send(Pagedata.model.url,a,function(a){Pagedata.view.table.ajax.reload(),$q("#form-wrapper").html(""),Utils.message(AeroStep.lang.success,"success",600),t&&t(a)},"PUT")},updateBasic:function(a,e){Aero.send(Pagedata.model.url,a,function(a){Pagedata.view.table.ajax.reload(),$q("#form-wrapper").html(""),Utils.message(AeroStep.lang.success,"success",600),e&&e(a)},"PUT")},del:function(a){Aero.send(Pagedata.model.url,{id:a},function(){Pagedata.view.table.ajax.reload(),$q("#form-wrapper").html("")},"DELETE")}};