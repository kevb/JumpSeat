"use strict";var User={id:null};User.model={url:"api/users",defaults:function(){return{title:"",description:""}},validate:function(){var e=[],r=$q("form").isFormValid(),a=$q('input[name="password"]'),o=$q(".passwordv");if(""!=a.val()&&"Weak"==$q(".password-verdict").text()&&(r=!1,a.addClass("aero-require-error"),e.push("Password is too weak")),a.val()!=o.val()&&(r=!1,o.addClass("aero-require-error"),e.push("Password and Confirm Password don't match")),!r){0==$q(".aero-error-box").length&&$q("form").prepend('<div class="aero-error-box"><ul></ul></div>');for(var s in e)$q(".aero-error-box ul").append("<li>"+e[s]+"</li>");0==$q("#panel2-1 .aero-require-error").length&&$q(".tabs li:eq(1) a").click()}return r},save:function(){var e=$q("form").aeroSerialize();e.sysadmin=!!e.sysadmin,User.id?User.api.update(e,User.id):User.api.create(e)}},User.api={get:function(e,r){var a={};r&&(a={id:r}),Aero.send(User.model.url,a,function(r){e&&e(r)},"GET")},create:function(e){Aero.send(User.model.url,e,function(){User.view.table.ajax.reload()},"POST")},clone:function(e){Aero.send(User.model.url+"/clone",{id:e},function(){User.view.table.ajax.reload()},"POST")},update:function(e,r,a){e.id=r,Aero.send(User.model.url,e,function(e){User.view.table.ajax.reload(),a&&a(e)},"PUT")},del:function(e){Aero.send(User.model.url,{id:e},function(){User.view.table.ajax.reload()},"DELETE")}};