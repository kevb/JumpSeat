"use strict";var RoleUserMap={roleid:null,initialized:!1};RoleUserMap.model={url:"api/roleusermap",defaults:function(){return{title:"",description:""}},save:function(){var e=$q("form").aeroSerialize();RoleUserMap.api.create(e.userid)}},RoleUserMap.api={get:function(e,r){var o={};o.roleid=Rolemap.roleid,Aero.send(RoleUserMap.model.url+"/by_role",o,function(r){e&&e(r)},"GET")},getUsers:function(e){RoleUserMap.USERS?e(RoleUserMap.USERS):Aero.send("api/users",{select:["email","firstname","lastname"]},function(r){RoleUserMap.USERS=r,e()},"GET")},create:function(e){Aero.log("Associating with userid: "+e,"info");var r={roleid:Rolemap.roleid,userid:e};Aero.send(RoleUserMap.model.url,r,function(e){e&&RoleUserMap.view.table.ajax.reload()},"POST")},del:function(e){Aero.log("Deleting with userid: "+e,"info");var r={roleid:Rolemap.roleid,userid:e};Aero.send(RoleUserMap.model.url,r,function(e){RoleUserMap.view.table.ajax.reload()},"DELETE")}};